<div class="container mx-auto px-4">
  <div class="md:flex items-center flex-wrap md:space-x-2">
    <div class="md:block flex items-center justify-between">
      <%= link_to root_path, class: "w-12 h-12 flex justify-center" do %>
        <!-- Hound logo -->
        <%= image_tag 'sitges-logo-blue.png' %>
        <span class="sr-only"><%= Railsui.config.application_name %></span>
      <% end %>

      <button
        id="dropdowns-nav-toggle"
        data-action="click->nav#toggle"
        class="md:hidden block p-1 rounded focus:ring-4 focus:ring-slate-100 active:bg-white group focus:bg-white/50 dark:focus:bg-slate-800 dark:focus:ring-slate-700">
        <div role="none" data-nav-target="menuBars">
          <%= icon "bars-3-center-left", classes: "w-8 h-8 text-slate-600 group-focus:text-indigo-600
          dark:text-slate-400 dark:group-focus:text-slate-100" %>
        </div>
        <div role="none" data-nav-target="menuCross" class="hidden">
          <%= icon "x-mark", classes: "w-8 h-8 text-slate-600 group-focus:text-indigo-600 dark:text-slate-400 dark:group-focus:text-slate-100" %>
        </div>
      </button>

    </div>
    <div
      id="dropdowns-navigation"
      class="md:flex-1 md:block hidden md:static absolute top-12 left-0 w-full bg-white dark:bg-slate-900 md:bg-transparent transform origin-top px-4 pb-4 md:p-0  rounded-b md:shadow-none shadow-xl z-40 text-base"
      data-nav-target="nav"
      data-transition-enter-active="transition ease-out duration-200"
      data-transition-enter-from="opacity-0 scale-95"
      data-transition-enter-to="opacity-100 scale-100"
      data-transition-leave-from="opacity-100 scale-100"
      data-transition-leave-active="transition ease-in duration-200"
      data-transition-leave-to="opacity-0 scale-95"
    >
      <div
        class="md:flex-1 md:flex flex-wrap items-center justify-between lg:text-left text-center">
        <nav role="Primary navigation">
          <ul
            class="md:flex block items-center flex-wrap space-x-0 md:space-x-3 md:text-base  md:leading-normal leading-relaxed space-y-1 md:space-y-0 md:mb-0 mb-2">
            <%= render "shared/nav_links" %>
          </ul>
        </nav>

        <nav role="Secondary navigation">
          <ul class="md:flex flex-wrap items-center md:justify-center justify-between md:space-x-4">
            <% if user_signed_in? %>
            <li class="md:mt-0 mt-4 flex flex-col items-center relative" data-controller="dropdown">
              <button class="group" type="button" data-action="click->dropdown#toggle click@window->dropdown#hide">
                <%= image_tag "https://source.unsplash.com/random/600x400/?dog", class: "rounded-full md:w-10 w-12 md:h-10 h-12 object-cover border-2 border-transparent group-hover:border-indigo-600 transition duration-300 ease-in-out" %>
              </button>

              <div class="hidden transition transform origin-to-right md:absolute right-0 top-10 bg-white rounded-lg md:shadow-xl md:shadow-slate-900/10 md:border border-slate-200 md:min-w-[200px] z-50 py-1 divide-y md:w-auto w-full md:text-sm dark:bg-slate-700 dark:shadow-slate-900/50 dark:border-slate-500/60 text-base font-medium text-slate-600 dark:text-slate-200 dark:divide-gray-600" data-dropdown-target="menu"
              data-transition-enter-from="opacity-0 scale-95"
              data-transition-enter-to="opacity-100 scale-100"
              data-transition-leave-from="opacity-100 scale-100"
              data-transition-leave-to="opacity-0 scale-95">
                <div role="none">
                  <%= link_to "Edit account", edit_user_registration_path, class: "px-4 py-2 md:py-[.4rem] hover:text-indigo-600 dark:hover:text-indigo-400 block", data: { turbo: false } %>
                </div>
                <div role="none">
                  <%= button_to "Sign out", destroy_user_session_path, method: :delete, class: "px-4 py-2 md:py-[.4rem] hover:text-indigo-600 dark:hover:text-indigo-400 block w-full sm:!text-left !text-center", data: { turbo: false  } %>
                </div>
              </div>
            </li>
            <% else %>
              <li class="w-full md:w-auto md:mb-0 col-span-2 mb-2">
                <%= link_to "Sign in", new_user_session_path, class: "btn btn-transparent md:w-auto w-full", data: { turbo: false } %>
              </li>
              <li class="md:pl-3 w-full md:w-auto col-span-2">
                <%= link_to "Sign up", new_user_registration_path, class: "btn btn-dark md:w-auto w-full", data: { turbo: false } %>
              </li>
            <% end %>
          </ul>
        </nav>
      </div>
    </div>
  </div>
</div>
